# 动态内存
- 静态内存，程序启动到程序运行结束都存在，全局变量与静态变量
- 栈内存，局部变量
- 堆内存，动态分配的内存
## 12.1 动态内存与智能指针
动态内存的管理由两个运算符完成：
- new：为对象分配空间并返回一个指向内存的指针。可选择是否初始化对象
- delete：接受一个指向对象的指针，析构对象，收回分配的空间

如果分配类内存而忘记收回，会造成内存泄漏，如果对象还在使用就收回了空间，产生引用非法内存的指针。
智能指针：自动释放内存，有两种：shared_ptr允许多个指针指向同一个对象，unique_ptr独占一个对象。还有一种weak_ptr，弱引用，指向shared_ptr所指向的对象。
### 12.1.1 shared_ptr类
- make_shared()函数
这是最安全的分配内存方法。
### 12.1.2 直接管理内存
- 使用new动态分配和初始化对象
```
int *a = new int;  //默认初始化
int *a = new int();  //值初始化
```
- 动态分配的const对象
new返回的指针是一个指向const的指针。
### 12.1.3 

